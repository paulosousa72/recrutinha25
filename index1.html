<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualizador 3D com RA</title>
    <!-- Importa a biblioteca model-viewer -->
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.5.0/model-viewer.min.js"></script>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            position: relative; /* Necessário para o posicionamento do pseudo-elemento */
        }
        body::before { /* Pseudo-elemento para o background com opacidade */
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("./background.jpg");
            background-size: cover; /* Ajusta a imagem para cobrir todo o fundo */
            background-position: center; /* Centraliza a imagem */
            opacity: 0.7; /* 70% de transparência */
            z-index: -1; /* Coloca o pseudo-elemento atrás do conteúdo principal */
        }
        model-viewer {
            width: 100%;
            height: 100%;
            background-color: transparent; /* Torna o fundo do model-viewer transparente para ver o body::before */
            --ar-button-display: fixed;
            --ar-button-bottom: 20px;
            --ar-button-horizontal-align: center;
        }
    </style>
</head>
<body>
    <!-- Elemento model-viewer para exibir o modelo 3D -->
    <model-viewer
        id="personagem-viewer"
        src="./recrutinhaCera.glb"
        alt="Personagem 3D Recruta"
        ar
        ar-modes="webxr scene-viewer quick-look"
        ar-placement="floor"
        ar-scale="fixed" /* Opções: "auto" (usuário pode escalar), "fixed" (tenta manter a escala da cena 3D e desabilita o escalonamento pelo usuário em AR) */
        camera-controls
        auto-rotate
        shadow-intensity="1"
        environment-image="neutral"
        scale="0.2 0.2 0.2" /* Escala inicial do modelo na visualização 3D. Ex: "0.8 0.8 0.8" para 80% do tamanho original */
        camera-orbit="0deg 75deg 2.5m" /* Posição inicial da câmera: ROTAÇÃO_HORIZONTAL ROTAÇÃO_VERTICAL DISTÂNCIA. Uma DISTÂNCIA menor aproxima o modelo. */
        min-camera-orbit="auto auto 1m" /* Distância mínima que o usuário pode dar zoom (aproximar) */
        max-camera-orbit="auto auto 5m" /* Distância máxima que o usuário pode dar zoom (afastar) */
        field-of-view="30deg" /* Campo de visão da câmera em graus. Valores menores dão mais zoom. */
        min-field-of-view="20deg" /* Campo de visão mínimo ao dar zoom */
        max-field-of-view="45deg" /* Campo de visão máximo ao afastar o zoom */
    >
        <div slot="ar-button" id="ar-button" style="background-color: white; border-radius: 4px; border: 1px solid black; padding: 10px 16px; position: absolute; bottom: 16px; left: 50%; transform: translateX(-50%); font-weight: bold">
            Ver no seu espaço
        </div>
    </model-viewer>

    <script>
        const modelViewer = document.querySelector("#personagem-viewer");
        modelViewer.addEventListener("load", () => {
            console.log("Modelo carregado!");
        });
    </script>
</body>
</html>
